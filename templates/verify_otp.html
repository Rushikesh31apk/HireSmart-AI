{% extends 'base.html' %}
{% block title %}Verify OTP â€” HireSmart AI{% endblock %}
{% block footer %}{% endblock %}

{% block content %}
<div class="auth-page">
  <div class="hero-orb orb-1" style="opacity:0.2;"></div>
  <div class="hero-orb orb-2" style="opacity:0.2;"></div>
  <div class="container">
    <div class="auth-card">
      <div class="auth-logo">
        <div style="width:72px;height:72px;border-radius:50%;background:var(--gradient-main);
                    display:flex;align-items:center;justify-content:center;margin:0 auto 1rem;
                    font-size:2rem;color:#fff;box-shadow:0 0 30px rgba(0,212,255,0.3);">
          <i class="fa-solid fa-envelope-open-text"></i>
        </div>
      </div>
      <h2 class="auth-title">Check Your Email ðŸ“¬</h2>
      <p class="auth-subtitle">
        We sent a 6-digit verification code to your email.
        Enter it below to {{ 'verify your account' if purpose == 'verify' else 'reset your password' }}.
      </p>

      <form method="POST" action="{{ url_for('verify_otp') }}" novalidate>
        <input type="hidden" name="otp" id="otp_full">
        <div class="otp-inputs">
          {% for i in range(6) %}
          <input type="text" class="form-control otp-digit"
                 maxlength="1" inputmode="numeric" pattern="[0-9]"
                 autocomplete="one-time-code">
          {% endfor %}
        </div>
        <button type="submit" class="btn btn-primary-glow w-100 py-3 mb-3">
          <i class="fa-solid fa-check-circle me-2"></i>Verify Code
        </button>
      </form>

      <div class="text-center">
        <p class="small text-muted mb-2">Didn't receive the code?</p>
        <button id="resendOtpBtn" class="btn btn-ghost-nav btn-sm px-4">
          <i class="fa-solid fa-paper-plane me-1"></i>Resend OTP
        </button>
      </div>

      <div class="auth-divider"><span>or</span></div>
      <a href="{{ url_for('login') }}" class="btn btn-glass w-100 py-2 text-center">
        <i class="fa-solid fa-arrow-left me-2"></i>Back to Login
      </a>

      <!-- Dev note -->
      <div class="mt-3 p-3 rounded" style="background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.3);">
        <p class="small mb-0" style="color:#fbbf24;">
          <i class="fa-solid fa-triangle-exclamation me-1"></i>
          <strong>Dev Mode:</strong> If email is not configured, check the terminal/console for your OTP.
        </p>
      </div>
    </div>
  </div>
</div>
{% endblock %}